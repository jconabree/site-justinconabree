@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --foreground-rgb: 0, 0, 0;
}

body {
  color: rgb(var(--foreground-rgb));
  background: white;
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
}
@layer base {
  :root {
    --tw-anaglyph-color1: rgb(30,242,241);
    --tw-anaglyph-color2: rgb(247, 0, 255);
    --tw-anaglyph-text-ofx1: -2px;
    --tw-anaglyph-text-ofx2: 2px;
    --tw-anaglyph-text-ofy1: 0;
    --tw-anaglyph-text-ofy2: 0;
    --tw-anaglyph-text-blur: 0;
    --tw-anaglyph-shadow-blur: 1px;
  }

  .ah-secondary {
    --tw-anaglyph-color1: rgb(30,242,241);
    --tw-anaglyph-color2: rgb(255, 248, 42);
  }

  .ah-wide {
    --tw-anaglyph-text-ofx1: -4px;
    --tw-anaglyph-text-ofx2: 4px;
    --tw-anaglyph-text-blur: 0;
    --tw-anaglyph-shadow-blur: 3px;
  }

  .ah-hidden {
    --tw-anaglyph-text-ofx1: 0;
    --tw-anaglyph-text-ofx2: 0;
    --tw-anaglyph-text-blur: 0;
  }

  .text-shadow-ah {
    text-shadow: 0 0 var(--tw-anaglyph-text-blur) currentColor, var(--tw-anaglyph-text-ofx1) var(--tw-anaglyph-text-ofy1) var(--tw-anaglyph-shadow-blur) var(--tw-anaglyph-color1), var(--tw-anaglyph-text-ofx2) var(--tw-anaglyph-text-ofy2) var(--tw-anaglyph-shadow-blur) var(--tw-anaglyph-color2);
  }

  .textAnaglyph {
    @apply text-clip;
    @apply tracking-widest;
    @apply text-shadow-ah;
  }

  .textAnaglyphSecondary {
    @apply textAnaglyph;
    @apply ah-secondary;
  }

  .emphasis {
    @apply textAnaglyph;
    @apply tracking-wide;
  }

  .emphasis-wide {
    @apply emphasis;
    @apply ah-wide;
  }

  .emphasis-secondary {
    @apply emphasis;
    @apply ah-secondary;
  }

  .emphasis-secondary-wide {
    @apply emphasis;
    @apply ah-secondary;
    @apply ah-wide;
  }

  .titleAnaglyph {
    @apply font-header;
    @apply font-bold;
    @apply textAnaglyph;
  }

  .titleAnaglyphSecondary {
    @apply font-header;
    @apply font-bold;
    @apply textAnaglyphSecondary;
  }

  .title-hero {
    @apply titleAnaglyph;
    @apply text-3.5xl;
    @apply leading-none;
    @apply md_text-5xl;
    @apply lg_text-6xl;
    @apply xl_text-7xl;
    @apply 2xl_text-8xl;
    @apply xl_leading-over-loose;
  }

  h1, .title-h1 {
    @apply titleAnaglyph;
    @apply leading-tight;
    @apply text-3xl;
    @apply xl_text-5xl;
  }
  
  h2, .title-h2 {
    @apply titleAnaglyph;
    @apply text-2xl;
    @apply xl_text-4.5xl;
  }
  
  h3, .title-h3 {
    @apply titleAnaglyph;
    @apply text-xl;
    @apply xl_text-2xl;
  }
  
  h4, .title-h4 {
    @apply titleAnaglyph;
    @apply text-lg;
    @apply xl_text-xl;
  }
  
  h5, .title-h5 {
    @apply titleAnaglyph;
    @apply xl_text-lg;
  }

  .interactiveAnaglyph {
    @apply textAnaglyph;
    transition: all 150ms !important;
  }

  .interactiveAnaglyph:hover {
    @apply ah-hidden;
  }

  .anchor-clear {
    @apply tracking-widest;
    @apply underline;
    @apply underline-offset-3;
    @apply hover_no-underline;
    @apply hover_cursor-pointer;
  }

  .anchor {
    @apply interactiveAnaglyph;
    @apply anchor-clear;
  }

  .buttonAnaglyph {
    /* @apply interactiveAnaglyph; */
    @apply relative;
    @apply border-2;
  }

  .buttonAnaglyph::before {
    position: absolute;
    content: "";
    left: 0px;
    top: 0.2px;
    width: calc(100% + 5px);
    height: calc(100% + 3.35px);
    background: transparent;
    opacity: 0.8;
    transition: all 150ms;
    z-index: -1;
    border: 3px solid var(--tw-anaglyph-color1);
  }

  .buttonAnaglyph::after {
    position: absolute;
    content: "";
    left: -4px;
    top: -1.7px;
    width: calc(100% + 6.25px);
    height: calc(100% + 2.8px);
    background: transparent;
    opacity: 0.8;
    transition: all 150ms;
    z-index: -1;
    border: 3px solid var(--tw-anaglyph-color2);
  }

  .buttonAnaglyph:hover::before,
  .buttonAnaglyph:focus::before {
    border-width: 0;
  }

  .buttonAnaglyph:hover::after,
  .buttonAnaglyph:focus::after {
    border-width: 0;
  }

  .button-primary {
    @apply buttonAnaglyph;
    @apply border-black;
  }

  .button-secondary {
    @apply buttonAnaglyph;
    @apply border-white;
  }

  .button-tertiary {
    @apply buttonAnaglyph;
    @apply border-white;
  }

  .button-tertiary::before,
  .button-tertiary::after {
    @apply ah-secondary;
  }

  .pill {
    @apply button-secondary;
    @apply rounded-full;
    @apply before_rounded-full;
    @apply after_rounded-full;
    @apply px-8;
    @apply py-0.5;
    @apply border-white;
    @apply pointer-events-none;
    @apply text-center;
    text-shadow: none;
  }


  .imageAnaglyphWrapper {
    width: max-content;
    height: max-content;
    overflow: hidden;
    position: relative;
  }

  .imageAnaglyphWrapper::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: 2px solid white;
  }

  .imageAnaglyph {
    filter: saturate(0.6) url(#rgb-split);
    transform: translateZ(0);
  }



  .halftone {
    position: relative;
    background: white;
    filter: contrast(50);
  }
  
  .halftone::before {
    --bgSize: 1.4rem;
    --bgPosition: calc(var(--bgSize) / 2);
    --stop1: 3%;
    --stop2: 45%;
    
    content: '';
    position: absolute;
    width: 20%;
    height: 10%;
    top: 0;
    right: 0;
    background-repeat: round;
    background-position: center;
    background-image: radial-gradient(circle at center, black var(--stop1), transparent var(--stop2)), radial-gradient(circle at center, black var(--stop1), transparent var(--stop2));
    background-size: var(--bgSize) var(--bgSize);
    background-position: 0 0, var(--bgPosition) var(--bgPosition);
  }
}
